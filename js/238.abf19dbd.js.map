{"version":3,"file":"js/238.abf19dbd.js","mappings":"0JAAA,IAAIA,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACA,EAAG,cAAc,CAACE,MAAM,CAAC,MAAQ,UAAUF,EAAG,WAAW,CAACE,MAAM,CAAC,mBAAmB,YAAYC,GAAG,CAAC,OAASL,EAAIM,WAAW,CAACJ,EAAG,YAAY,CAACE,MAAM,CAAC,KAAO,MAAM,MAAQ,MAAM,YAAc,MAAM,MAAQ,CAAC,CAAEG,UAAU,EAAMC,QAAS,UAAW,CAACC,UAAWT,EAAIU,kBAAmBF,QAAQ,oBAAoBG,MAAM,CAACC,MAAOZ,EAAIa,SAAUC,SAAS,SAAUC,GAAMf,EAAIa,SAASE,CAAG,EAAEC,WAAW,cAAcd,EAAG,YAAY,CAACE,MAAM,CAAC,KAAO,WAAW,KAAO,KAAK,MAAQ,KAAK,YAAc,KAAK,MAAQ,CAAC,CAAEG,UAAU,EAAMC,QAAS,SAAU,CAACC,UAAWT,EAAIiB,kBAAmBT,QAAQ,mBAAmBG,MAAM,CAACC,MAAOZ,EAAIkB,SAAUJ,SAAS,SAAUC,GAAMf,EAAIkB,SAASH,CAAG,EAAEC,WAAW,cAAcd,EAAG,MAAM,CAACiB,YAAY,CAAC,OAAS,SAAS,CAACjB,EAAG,aAAa,CAACE,MAAM,CAAC,MAAQ,GAAG,MAAQ,UAAU,MAAQ,GAAG,KAAO,OAAO,cAAc,WAAW,CAACJ,EAAIoB,GAAG,QAAQlB,EAAG,cAAc,CAACmB,YAAY,aAAajB,MAAM,CAAC,GAAK,WAAW,CAACJ,EAAIoB,GAAG,cAAc,IAAI,IAAI,EAChgC,EACIE,EAAkB,G,8BC6BtB,GACAC,KAAA,eACAC,OAAAA,GAGA,EAEAC,IAAAA,GACA,OACAZ,SAAA,GACAK,SAAA,GAEA,EACAQ,QAAA,KACAC,EAAAA,EAAAA,IAAA,2BACAjB,iBAAAA,CAAAkB,GACA,iBAAAC,KAAAD,EACA,EACAX,iBAAAA,CAAAW,GACA,iBAAAC,KAAAD,EACA,EACA,cAAAtB,GACA,IACA,MAAAwB,QAAAC,EAAAA,EAAAA,IAAA,CAAAlB,SAAA,KAAAA,SAAAK,SAAA,KAAAA,WACA,MAAAY,EAAAL,KAAAO,OACA,KAAAC,OAAAC,QAAA,QACA,KAAAC,OAAAC,SAAA,uBAAAvB,SAAA,KAAAA,SAAAK,SAAA,KAAAA,WACAmB,YAAA,KACA,KAAAC,QAAAC,KAAA,YACA,MAEA,OAAAC,GAAAC,QAAAC,IAAAF,EAAA,CACA,IC/DuP,I,UCQnPG,GAAY,OACd,EACA5C,EACAuB,GACA,EACA,KACA,WACA,MAIF,EAAeqB,EAAiB,O,sHCjBzB,MAAMZ,EAAYN,GAChBmB,EAAAA,EAAQC,KAAK,oBAAqBpB,GAG9BqB,EAASrB,GACbmB,EAAAA,EAAQC,KAAK,iBAAkBpB,GAG3BsB,EAAcA,IAClBH,EAAAA,EAAQI,IAAI,uB","sources":["webpack://mj_vant/./src/views/register.vue","webpack://mj_vant/src/views/register.vue","webpack://mj_vant/./src/views/register.vue?04f8","webpack://mj_vant/./src/views/register.vue?f255","webpack://mj_vant/./src/api/user.js"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('van-nav-bar',{attrs:{\"title\":\"面经注册\"}}),_c('van-form',{attrs:{\"validate-trigger\":\"onChange\"},on:{\"submit\":_vm.onSubmit}},[_c('van-field',{attrs:{\"name\":\"用户名\",\"label\":\"用户名\",\"placeholder\":\"用户名\",\"rules\":[{ required: true, message: '请填写用户名' },{validator: _vm.validatorUsername, message:'用户名长度需在4-10位字符'}]},model:{value:(_vm.username),callback:function ($$v) {_vm.username=$$v},expression:\"username\"}}),_c('van-field',{attrs:{\"type\":\"password\",\"name\":\"密码\",\"label\":\"密码\",\"placeholder\":\"密码\",\"rules\":[{ required: true, message: '请填写密码' },{validator: _vm.validatorPassword, message:'密码长度需在6-10位字符'}]},model:{value:(_vm.password),callback:function ($$v) {_vm.password=$$v},expression:\"password\"}}),_c('div',{staticStyle:{\"margin\":\"16px\"}},[_c('van-button',{attrs:{\"round\":\"\",\"color\":\"#06c160\",\"block\":\"\",\"type\":\"info\",\"native-type\":\"submit\"}},[_vm._v(\"注册\")]),_c('router-link',{staticClass:\"submitTips\",attrs:{\"to\":\"/login\"}},[_vm._v(\"有账号,去登录\")])],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <van-nav-bar title=\"面经注册\" >\r\n    </van-nav-bar>\r\n    <van-form @submit=\"onSubmit\" validate-trigger=\"onChange\">\r\n  <van-field\r\n    v-model=\"username\"\r\n    name=\"用户名\"\r\n    label=\"用户名\"\r\n    placeholder=\"用户名\"\r\n    :rules=\"[{ required: true, message: '请填写用户名' },{validator: validatorUsername, message:'用户名长度需在4-10位字符'}]\"\r\n  />\r\n  <van-field\r\n    v-model=\"password\"\r\n    type=\"password\"\r\n    name=\"密码\"\r\n    label=\"密码\"\r\n    placeholder=\"密码\"\r\n    :rules=\"[{ required: true, message: '请填写密码' },{validator: validatorPassword, message:'密码长度需在6-10位字符'}]\"\r\n  />\r\n  <div style=\"margin: 16px;\">\r\n    <van-button round color=\"#06c160\" block type=\"info\" native-type=\"submit\">注册</van-button>\r\n    <router-link class=\"submitTips\" to=\"/login\">有账号,去登录</router-link>\r\n  </div>\r\n</van-form>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { register } from '@/api/user'\r\nimport { mapActions } from 'vuex'\r\nexport default {\r\n  name: 'RegisterPage',\r\n  created () {\r\n    // console.log(this.$store.state)\r\n    // this.username = this.$store.state.user.username\r\n    // this.password = this.$store.state.user.password\r\n  },\r\n  data () {\r\n    return {\r\n      username: '',\r\n      password: ''\r\n    }\r\n  },\r\n  methods: {\r\n    ...mapActions('user', ['setUserAccount']),\r\n    validatorUsername (val) {\r\n      return /\\w{4,10}/.test(val)\r\n    },\r\n    validatorPassword (val) {\r\n      return /\\w{6,10}/.test(val)\r\n    },\r\n    async onSubmit () {\r\n      try {\r\n        const res = await register({ username: this.username, password: this.password })\r\n        if (res.data.code === 10000) {\r\n          this.$toast.success('注册成功')\r\n          this.$store.dispatch('user/setUserAccount', { username: this.username, password: this.password })\r\n          setTimeout(() => {\r\n            this.$router.push('/login')\r\n          }, 1500)\r\n        }\r\n      } catch (e) { console.log(e) }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"less\">\r\n.submitTips {\r\n  float: right;\r\n  margin-top: 15px;\r\n  margin-right: 5px;\r\n  color: #5a8ead;\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./register.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./register.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./register.vue?vue&type=template&id=0f4695ee&scoped=true\"\nimport script from \"./register.vue?vue&type=script&lang=js\"\nexport * from \"./register.vue?vue&type=script&lang=js\"\nimport style0 from \"./register.vue?vue&type=style&index=0&id=0f4695ee&prod&scoped=true&lang=less\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0f4695ee\",\n  null\n  \n)\n\nexport default component.exports","import request from '@/utils/request.js'\r\n\r\nexport const register = (data) => {\r\n  return request.post('/h5/user/register', data)\r\n}\r\n\r\nexport const login = (data) => {\r\n  return request.post('/h5/user/login', data)\r\n}\r\n\r\nexport const getUserInfo = () => {\r\n  return request.get('/h5/user/currentUser')\r\n}\r\n"],"names":["render","_vm","this","_c","_self","attrs","on","onSubmit","required","message","validator","validatorUsername","model","value","username","callback","$$v","expression","validatorPassword","password","staticStyle","_v","staticClass","staticRenderFns","name","created","data","methods","mapActions","val","test","res","register","code","$toast","success","$store","dispatch","setTimeout","$router","push","e","console","log","component","request","post","login","getUserInfo","get"],"sourceRoot":""}