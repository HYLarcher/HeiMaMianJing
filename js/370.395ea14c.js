"use strict";(self["webpackChunkmj_vant"]=self["webpackChunkmj_vant"]||[]).push([[370],{1559:function(t,e,n){n.d(e,{A:function(){return c}});n(4114);var i=function(){var t=this,e=t._self._c;return e("van-cell",{on:{click:function(e){return t.$router.push(`/detail/${t.item.id}`)}},scopedSlots:t._u([{key:"title",fn:function(){return[e("div",{staticClass:"header"},[e("img",{attrs:{src:t.item.avatar,alt:"头像"}}),e("div",{staticClass:"right"},[e("p",{staticClass:"title van-ellipsis"},[t._v(t._s(t.item.stem))]),e("p",{staticClass:"avatarInfo"},[e("span",[t._v(t._s(t.item.creator))]),t._v(" | "),e("span",[t._v(t._s(t.item.createdAt))])])])])]},proxy:!0},{key:"label",fn:function(){return[e("div",{staticClass:"body van-multi-ellipsis--l2"},[t._v(" "+t._s(t.clearHtmlTag(t.item.content))+" ")]),e("div",{staticClass:"info"},[e("span",[t._v("点赞 "+t._s(t.item.likeCount))]),t._v(" | "),e("span",[t._v("浏览 "+t._s(t.item.views))])])]},proxy:!0}])})},s=[],r={props:{item:{type:Object,default:()=>({})}},methods:{clearHtmlTag(t){return t.replace(/<[^>]+>/g,"")}}},a=r,o=n(1656),l=(0,o.A)(a,i,s,!1,null,"13026bd0",null),c=l.exports},8370:function(t,e,n){n.r(e),n.d(e,{default:function(){return d}});var i=function(){var t=this,e=t._self._c;return e("div",[e("nav",{staticClass:"nav"},[e("a",{class:{active:"weight_desc"===t.sorter},attrs:{href:"#"},on:{click:function(e){return t.changeSorter("weight_desc")}}},[t._v("推荐")]),e("a",{class:{active:null===t.sorter},attrs:{href:"#"},on:{click:function(e){return t.changeSorter(null)}}},[t._v("最新")]),t._m(0)]),e("div",{staticClass:"show"},[e("van-cell",{attrs:{value:"内容","is-link":""}}),e("van-list",{attrs:{finished:t.finished,"finished-text":"没有更多了"},on:{load:t.onLoad},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},t._l(t.list,(function(t){return e("ArticleItem",{key:t.id,attrs:{item:t}})})),1)],1)])},s=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"logo"},[e("img",{attrs:{src:n(3153),alt:""}})])}],r=(n(4114),n(1559)),a=n(4754),o={name:"IndexPage",components:{ArticleItem:r.A},data(){return{current:1,sorter:"weight_desc",loading:!1,finished:!1,list:[]}},methods:{changeSorter(t){this.sorter=t},async onLoad(){console.log("需要加载更多了, 应该要发送请求了...");const t=await(0,a.BJ)({current:this.current,sorter:this.sorter});this.list.push(...t.data.data.rows),this.loading=!1,this.current++,this.current>t.data.pageTotal&&(this.finished=!0)}}},l=o,c=n(1656),u=(0,c.A)(l,i,s,!1,null,"9267ee70",null),d=u.exports},4754:function(t,e,n){n.d(e,{BJ:function(){return s},Ug:function(){return r},gu:function(){return a},s3:function(){return o}});var i=n(8417);const s=t=>i.A.get("/h5/interview/query",{params:{current:t.current,pageSize:10,sorter:t.sorter}}),r=t=>i.A.get("/h5/interview/show",{params:{id:t}}),a=t=>i.A.get("/h5/interview/opt/list",{params:{page:t.page,pageSize:10,optType:t.type}}),o=t=>i.A.post("/h5/interview/opt",{id:t.id,optType:t.type})},3153:function(t,e,n){t.exports=n.p+"img/logo.dbd40807.png"}}]);
//# sourceMappingURL=370.395ea14c.js.map